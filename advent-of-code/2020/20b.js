(() => {
  function solve(input) {
    var lines = Utils.read(input);

    var i = 0;
    var dict = {};
    var edges = {};
    while (i < lines.length) {
      var key = lines[i].split(" ")[1];
      key = key.substring(0, key.length - 1);
      i++;
      var matrix = [];
      var j = 0;
      while (i < lines.length && lines[i] != "") {
        matrix[j] = lines[i].split("");
        i++;
        j++;
      }
      dict[key] = matrix;
      computeEdges(edges, key, matrix);
      i++;
    }

    var uniques = {};
    for (var key in edges) {
      var edge = edges[key];
      if (edge.length == 1) {
        uniques[edge[0][0]] = uniques[edge[0][0]] || new Set();
        uniques[edge[0][0]].add(edge[0][1]);
      }
    }

    var corner;
    var puzzle = [];
    var puzzleSize = Math.sqrt(Object.keys(dict).length);
    for (var key in uniques) {
      if (uniques[key].size == 4) {
        corner = key;
        break;
      }
    }

    puzzle[0] = [];

    var perm;
    var used = new Set();
    var cornerSet = uniques[corner];
    if (cornerSet.has(0) && cornerSet.has(4)) perm = 0;
    if (cornerSet.has(1) && cornerSet.has(6)) perm = 1;
    if (cornerSet.has(2) && cornerSet.has(5)) perm = 2;
    if (cornerSet.has(3) && cornerSet.has(7)) perm = 3;
    puzzle[0][0] = permutation(dict[corner], perm);
    used.add(corner);

    for (var i = 0; i < puzzleSize; i++) {
      if (i != 0) puzzle[i] = [];
      for (var j = 0; j < puzzleSize; j++) {
        if ((i == 0) & (j == 0)) continue;
        if (j == 0) {
          var matrix = puzzle[i - 1][j];
          var lastCol = matrix[matrix.length - 1].join("");
          var nextPiece = edges[lastCol].filter((i) => !used.has(i[0]))[0];
          perm = nextPiece[1];
          puzzle[i][j] = permutation(dict[nextPiece[0]], perm);
          used.add(nextPiece[0]);
        } else {
          var lastCol = "";
          var matrix = puzzle[i][j - 1];
          for (var k = 0; k < matrix[0].length; k++)
            lastCol += matrix[k][matrix[0].length - 1];
          var nextPiece = edges[lastCol].filter((i) => !used.has(i[0]))[0];
          if (nextPiece[1] == 4) perm = 0;
          if (nextPiece[1] == 6) perm = 1;
          if (nextPiece[1] == 5) perm = 2;
          if (nextPiece[1] == 7) perm = 3;
          if (nextPiece[1] == 0) perm = 4;
          if (nextPiece[1] == 2) perm = 5;
          if (nextPiece[1] == 1) perm = 6;
          if (nextPiece[1] == 3) perm = 7;
          puzzle[i][j] = permutation(dict[nextPiece[0]], perm);
          used.add(nextPiece[0]);
        }
      }
    }

    var size = puzzle.length * (puzzle[0][0].length - 2);
    var picture = Utils.matrix(size, size, "-");

    for (var i = 0; i < puzzle.length; i++) {
      for (var j = 0; j < puzzle[i].length; j++) {
        for (var k = 1; k < puzzle[i][j].length - 1; k++) {
          for (var l = 1; l < puzzle[i][j][k].length - 1; l++) {
            picture[i * (puzzle[i][j].length - 2) + k - 1][
              j * (puzzle[i][j][k].length - 2) + l - 1
            ] = puzzle[i][j][k][l];
          }
        }
      }
    }

    var seaMonster = `                  # 
#    ##    ##    ###
 #  #  #  #  #  #   `
      .split("\n")
      .map((i) => i.split(""));
    var sMCoords = [];
    for (var i = 0; i < seaMonster.length; i++) {
      for (var j = 0; j < seaMonster[i].length; j++) {
        if (seaMonster[i][j] == "#") sMCoords.push([i, j]);
      }
    }

    var count;
    for (var i = 0; i < 8; i++) {
      count = countSeaMonsters(permutation(picture, i), sMCoords);
      if (count > 0) break;
    }

    return (
      picture.reduce(
        (a, b) => a + b.reduce((c, d) => (d == "#" ? c + 1 : c), 0),
        0
      ) -
      count * sMCoords.length
    );
  }

  function countSeaMonsters(matrix, coords) {
    var count = 0;
    for (var i = 0; i < matrix.length; i++) {
      for (var j = 0; j < matrix[i].length; j++) {
        var found = true;
        for (var k = 0; k < coords.length && found; k++) {
          var idx1 = i + coords[k][0];
          var idx2 = j + coords[k][1];
          if (
            idx1 >= matrix.length ||
            idx2 >= matrix[idx1].length ||
            matrix[idx1][idx2] != "#"
          )
            found = false;
        }
        if (found) count++;
      }
    }
    return count;
  }

  function computeEdges(edges, key, matrix) {
    add(edges, matrix[0].join(""), key, 0); // Up
    add(edges, Utils.duplicate(matrix[0]).reverse().join(""), key, 1); // Up reversed
    add(edges, matrix[matrix.length - 1].join(""), key, 2); // Down
    add(
      edges,
      Utils.duplicate(matrix[matrix.length - 1])
        .reverse()
        .join(""),
      key,
      3
    ); // Down reversed
    var arr1 = [];
    var arr2 = [];
    for (var i = 0; i < matrix.length; i++) {
      arr1.push(matrix[i][0]);
      arr2.push(matrix[i][matrix[i].length - 1]);
    }
    add(edges, arr1.join(""), key, 4); // Left
    add(edges, arr1.reverse().join(""), key, 5); // Left reversed
    add(edges, arr2.join(""), key, 6); // Right
    add(edges, arr2.reverse().join(""), key, 7); // Right reversed
  }

  function permutation(matrix, num) {
    var matrix2 = Utils.duplicate(matrix);
    if (num == 0) return matrix2;
    if (num == 1) {
      return matrix2.map((i) => i.reverse());
    }
    if (num == 2) {
      return matrix2.reverse();
    }
    if (num == 3) {
      return matrix2.reverse().map((i) => i.reverse());
    }
    if (num == 4) {
      return matrix2[0].map((_, index) => matrix.map((row) => row[index]));
    }
    if (num == 5) {
      return matrix2[0].map((_, index) =>
        matrix.map((row) => row[index]).reverse()
      );
    }
    if (num == 6) {
      return matrix2[0]
        .map((_, index) => matrix.map((row) => row[index]))
        .reverse();
    }
    if (num == 7) {
      return matrix2[0]
        .map((_, index) => matrix.map((row) => row[index]).reverse())
        .reverse();
    }
  }

  function add(edges, key, value, permut) {
    edges[key] = edges[key] || [];
    edges[key].push([value, permut]);
  }

  var dataset = [];

  dataset.push({
    input: `Tile 2311:
..##.#..#.
##..#.....
#...##..#.
####.#...#
##.##.###.
##...#.###
.#.#.#..##
..#....#..
###...#.#.
..###..###

Tile 1951:
#.##...##.
#.####...#
.....#..##
#...######
.##.#....#
.###.#####
###.##.##.
.###....#.
..#.#..#.#
#...##.#..

Tile 1171:
####...##.
#..##.#..#
##.#..#.#.
.###.####.
..###.####
.##....##.
.#...####.
#.##.####.
####..#...
.....##...

Tile 1427:
###.##.#..
.#..#.##..
.#.##.#..#
#.#.#.##.#
....#...##
...##..##.
...#.#####
.#.####.#.
..#..###.#
..##.#..#.

Tile 1489:
##.#.#....
..##...#..
.##..##...
..#...#...
#####...#.
#..#.#.#.#
...#.#.#..
##.#...##.
..##.##.##
###.##.#..

Tile 2473:
#....####.
#..#.##...
#.##..#...
######.#.#
.#...#.#.#
.#########
.###.#..#.
########.#
##...##.#.
..###.#.#.

Tile 2971:
..#.#....#
#...###...
#.#.###...
##.##..#..
.#####..##
.#..####.#
#..#.#..#.
..####.###
..#.#.###.
...#.#.#.#

Tile 2729:
...#.#.#.#
####.#....
..#.#.....
....#..#.#
.##..##.#.
.#.####...
####.#.#..
##.####...
##..#.##..
#.##...##.

Tile 3079:
#.#.#####.
.#..######
..#.......
######....
####.#..#.
.#...#.##.
#.#####.##
..#.###...
..#.......
..#.###...`,
    output: 273
  });

  dataset.push({
    input: `Tile 1091:
..#.##.##.
.........#
#.#......#
.###..#...
#.#.......
##......##
......#..#
#.#....#..
#...#....#
#####....#

Tile 3691:
#.####..#.
...##...#.
##...#..#.
.#....##.#
#..#...#..
#.##....##
#.####....
#..#.....#
.##.#...##
#.#.#.#..#

Tile 2069:
...####..#
.#...#...#
#...#....#
...##..##.
.#......##
.#....##.#
#..##.....
.##...#..#
.#....#...
####....##

Tile 2969:
#...#.#.##
#.#....#.#
.......#.#
#...#...#.
#.....#.#.
#.........
..#...#..#
...##..#.#
#........#
#.##...###

Tile 3413:
##.##..#.#
#.#......#
#.#.#.#...
.#.......#
..........
.....###.#
....#....#
#...#.....
..##.#..##
..#.#..##.

Tile 3943:
..#####.##
#.....#...
.........#
##.#.....#
###.##....
.##.....##
#...#.....
..#.#....#
...#.....#
...#.#.#..

Tile 1163:
.###..#.#.
#..#.#...#
#.........
..#...#...
....###..#
....#..##.
.......#..
..#..#...#
...####.#.
.#########

Tile 2179:
.#.##.#.#.
#.#...#.#.
#...#...#.
##.#..##..
.###...##.
#..#.#....
..##.....#
......##.#
#...#...#.
.##..##.##

Tile 3539:
#.##..#...
#.....#...
#.#......#
#..##..##.
####....##
.#..#..#..
#.#....#..
#.....#..#
#.#..#....
####.#..##

Tile 2749:
.#....#.##
#...#....#
#...#.....
.###.#.##.
......##..
..#.#.#...
#.#..##..#
##..#...##
..####..#.
.###..#.#.

Tile 3701:
...###...#
..........
..#.....#.
.......#..
#..#.#...#
#......#..
##.##.#.##
........##
......#..#
#..#......

Tile 3881:
####..#..#
#..#.....#
#...##..#.
#.....#...
#..#..###.
###.#.##..
..##.#..#.
##...#####
.....#..#.
.##....###

Tile 3061:
###...###.
.....#...#
#.........
......#..#
.#.......#
#.....#...
.......#.#
#.......#.
#.#..#.###
..###.#...

Tile 1861:
#.#....#..
.....#...#
...#.###..
##.......#
..##.....#
#...##...#
..#.#.....
#....#..#.
###..#...#
#.#..#.#.#

Tile 2689:
##..####.#
#.###....#
...#.#...#
.....#.#.#
...#.....#
..##.....#
#.##......
#.#.#...##
.........#
..###.#.#.

Tile 1693:
#.#.####.#
#.#.#....#
#...###...
..........
.#..##.##.
####....##
.#......##
..#.#.....
.#.....#..
###.###.#.

Tile 3607:
##..##.#..
#...##....
..#..##..#
.....#...#
....#..###
##.......#
#....#.##.
....#.....
.#....#.#.
.##.#.####

Tile 1879:
#.#.###..#
..........
.#.#....##
......#..#
#.#..###..
..#....###
#..##.....
.........#
#......#..
.###..#..#

Tile 2027:
##.#......
#..##..#..
..##..#...
###.#....#
..#.###...
#..#......
#.....##..
#.##......
#..#.#...#
##....#...

Tile 3727:
####...#.#
#.#.#.....
##.......#
......##.#
..###.....
...#..###.
.#.#.##...
.#..#..#.#
#........#
.##......#

Tile 1451:
..##.#...#
.##.##....
.....#....
......##.#
.........#
...#.#....
#.##.#...#
.#..###...
#...##....
#.#..#..##

Tile 1423:
##....#...
#...##....
#...#..###
.#.#...#.#
#..#..#..#
....#....#
.#.#......
...##.#.##
#...##.#.#
#.#...#..#

Tile 2029:
#.#...##..
#........#
.#.......#
##.####.##
#.#..#.#..
..#.....#.
.....#.###
#.#......#
..#...####
..#...#..#

Tile 1093:
#...#..###
##.......#
..##...#.#
#....#...#
#.#.##..##
##..##....
.##..#.#..
..#.....##
......#.#.
####.#.#..

Tile 2393:
.###..#...
#..#...##.
.#...#...#
#.......#.
##.#.....#
##.##.#..#
........##
#..#.##..#
..#....#..
..#..#.###

Tile 3299:
.#.#.#.##.
.#...#....
#........#
....####.#
.#.....#..
#.#.###..#
.###.#.#..
...#..####
###.#.....
####....#.

Tile 2713:
.#####.#.#
#.##.#...#
###...#...
.#.....#.#
##.....##.
........##
##.#..##..
#.###...##
#.#..#...#
..#.###...

Tile 2609:
...#...##.
#.....##..
..#..#..#.
##.#.##..#
#..#.#....
##..###.#.
.#......##
#..#.#.#..
....#.....
##.##.####

Tile 3251:
.#.###.##.
...#.....#
#.#.##...#
#...#.#...
##..#..#.#
#.#.......
#......#..
#...#.#...
##.#.#.#..
#.#.#....#

Tile 1697:
...##.#...
#.#....###
#......#..
..#...#.#.
.#......#.
#..##.#..#
####...#.#
##..##..#.
#.#..#..##
###.##....

Tile 1399:
#..##.#.##
...#..#..#
#....#....
.#.......#
#....##.##
......##..
......#..#
.....##...
.###...#.#
..##.##...

Tile 2897:
#.#.###.##
#.....#..#
#.#...#.##
#.#......#
#..#..#..#
..#..#...#
#........#
..####..#.
##..#..#.#
.###.###.#

Tile 3163:
#..#.#.#..
.........#
..........
##...#.#..
#........#
.#...##..#
#.##.#..##
##..#.#...
...#.....#
........##

Tile 2699:
.#..##....
...###....
..#......#
##.....#.#
.#.##...#.
##.......#
........#.
##..#.#...
#.#.#.#...
#..##..#.#

Tile 2377:
.##.#.#..#
......#...
#..#...###
.......#.#
...#.#...#
#.....#...
#..##...#.
.#.....##.
..##.....#
.#.#....##

Tile 2473:
##.##.#.##
#.#.....#.
.....#...#
.......##.
#....#....
.#.##...##
#...#.....
.........#
........#.
.#.####.##

Tile 2447:
.###.####.
.......#..
.#....#...
#...#....#
...#.#....
#....#....
.....##.##
.....#...#
##..#..#.#
.#####..##

Tile 2671:
##..##..#.
...#......
.......#..
..#..#...#
....##.##.
##.#...##.
..#.......
#....##...
...##..#..
###..###.#

Tile 2333:
#.#.###...
#.#.#.....
....##..#.
#.....#..#
##.......#
#...#...#.
..####...#
...###....
.#....#...
.....#..##

Tile 3329:
#.##.###..
.#..#...#.
#...###.##
.#...#.#..
#.#...#...
..#......#
#.........
.......#..
##.#.#....
##..##.#.#

Tile 1301:
#..#.##.#.
##.......#
.###...#..
#.##......
#...#.....
........##
#..#..##..
...##....#
........#.
...#.####.

Tile 2129:
..#......#
#...#...##
...#.....#
.#..##....
#........#
.........#
..#....#..
#......#.#
##...#..#.
#.#.#.#...

Tile 3373:
...##.##.#
..#.....##
#.#......#
.#..#..#.#
#.#.......
##....#...
..##......
...#......
#..##..#..
#.#.#.#..#

Tile 3527:
.###.#..##
......#..#
##.#......
....#.....
#.##..#..#
#..#..#..#
#...##.#.#
......#...
#.#...#..#
..##.....#

Tile 1381:
#...##..#.
.#........
.##..##.#.
#.####....
..#..#.###
.####.##..
.#.##.....
......#..#
.#....#.##
#.###..#..

Tile 3011:
..#.##.##.
...#.#...#
..#.##.###
........#.
#........#
..#.#.##.#
##.#......
#..##...##
#...#...#.
..##.....#

Tile 2089:
.###.###.#
##.#.###..
..##.#.###
......#...
....#..#.#
#..#...#.#
#.#..#..##
.....#.###
#...#....#
.##..####.

Tile 3371:
###.......
##..#..##.
.........#
##.....#.#
##...#...#
..........
.....#..#.
.......##.
.....#...#
...#.##.##

Tile 2633:
###..##...
#.......#.
#......##.
...##.....
.#..#....#
#...###.##
...##.....
#...#....#
#.###...#.
.#####...#

Tile 1597:
#..#..#...
#......#.#
.....#....
..........
...#..#...
.........#
.#..#...#.
.#.#......
..........
.##.#..###

Tile 1361:
#..##.###.
.###..#...
#..#......
##.....#.#
..#...#..#
.#....##..
.#...#..#.
..#.....##
..##....#.
##.#.#..##

Tile 2273:
.......#.#
#..#......
#.....#..#
......#..#
#...##....
.#..##....
##.##....#
......##..
...#..#.##
##.#.##...

Tile 2297:
#.#.#.....
#.#.#..#.#
##.##.#.##
..........
#.#..###.#
##....#.##
#......###
....#..#.#
#....#..##
##..#.#.##

Tile 3989:
#.#...#...
#.#####.#.
.........#
........##
##..###...
...##..#.#
#..##..#..
...#......
......#..#
..#.#..###

Tile 1499:
.###.##..#
#..#.#..##
...##...##
#.....#.##
#.#.#..#..
.....#....
#.#..#.#..
.....#...#
#..##.....
#....####.

Tile 1997:
#....#.#..
##.......#
.#.......#
#.###....#
........#.
.........#
..#..##.##
#..#......
...###....
##.#..#.#.

Tile 3517:
....#..###
#........#
#.........
##..#....#
.........#
...#.....#
..#.......
#.###....#
#.#..#...#
..#.##.#.#

Tile 1901:
#.###....#
#......#..
#.....#...
#......#..
.#.....#.#
###.#.....
#.#....#.#
#........#
...#.#...#
#####.....

Tile 2417:
##..#...#.
.....#...#
.##......#
......#.##
.........#
#...#...#.
#...#..#.#
.......#.#
###...#..#
..#.###..#

Tile 2311:
.#..#.##..
......##..
#....#....
......#.#.
.#.#......
#...#.##.#
....#..#.#
..#....###
##...#.#.#
.#.......#

Tile 3671:
#....#..##
##...#.#.#
#.....#..#
.....#...#
#....##.##
.........#
##...##..#
#..##...##
.##.###..#
#.#...#...

Tile 3391:
##.##.##..
#..#.##...
####..#..#
#..#.....#
.#.#..##.#
#.........
#..#.##.##
..##..###.
.....#...#
..#......#

Tile 1783:
##..#.#..#
.#..##...#
#.#....#.#
....#...##
........#.
#..##.....
#.##...#..
##......##
..#.#.#..#
#.....###.

Tile 3257:
##.####...
.#...#....
.....#...#
#...##.##.
........##
...#.####.
......##.#
..###....#
.#.......#
##.#..##.#

Tile 1217:
...##.#...
....#...##
.#..##....
.........#
####....#.
##..#....#
#.#.##...#
.........#
........##
##...##.##

Tile 1049:
...#....#.
.##......#
..#...#...
.#...#..#.
##..#..###
##..#..#..
..#....##.
.....#..#.
#.........
.####.#.#.

Tile 3617:
.#######.#
##......##
.#...#.###
...##.....
##........
...#..#...
#..#.....#
.........#
.......#.#
##...#.##.

Tile 1619:
..###..##.
#.....#...
###....#.#
..#..#....
#..#.#..##
.#.......#
#.#.....##
#......#.#
.......#.#
..#...#...

Tile 1213:
##..#.#..#
#.#..###.#
#.#...##.#
.#...##..#
#.#..#..##
.#...#.###
...#...#..
#...#...##
##.#...#..
.#..##.#..

Tile 3181:
#######.##
..#......#
#.........
....#.#.##
......###.
##...#...#
....#.....
.#.......#
.#.......#
#.##.#.#..

Tile 1721:
#.#.###...
....#...#.
....##.#..
#...#.....
..###.....
#......#.#
#...#....#
#..#......
..#..##..#
##..##.##.

Tile 2953:
#.##.###..
.........#
..#....###
..#.#...##
...#..##.#
#.....#..#
.#...#....
.......#.#
#........#
##...#..#.

Tile 1459:
.....#..##
##...#..##
......##..
##.#...#.#
...#......
....#...##
..##.....#
#.#.##....
...#......
..#.##.#.#

Tile 2683:
###.#..#.#
..#..#..##
..#.#.#..#
..#.......
..#......#
#....###.#
........#.
#...#....#
.....#....
.#..#.#.##

Tile 3253:
.#..#..#..
...##....#
..........
##.#.....#
##.....###
....##...#
....##...#
..#.###.##
#..#.##..#
..###...##

Tile 3947:
.#..##.##.
..#.......
........##
..##..#...
.#.......#
...#..#..#
.#.#....##
#..#..###.
.....#.#..
##.#.....#

Tile 2887:
#.....#.#.
#...#...#.
.#...#...#
.........#
##..#.....
#.........
..........
#.#......#
#......#.#
.##......#

Tile 2141:
..#.#####.
#.........
.......#.#
...#..#..#
.#...##...
##.##...##
..#......#
.##.##..#.
#...##.#.#
..##...#.#

Tile 3793:
#.##...#.#
#..#..#.#.
..#..#..##
##.#....##
.###.#....
#....#...#
#........#
#....#..##
#.......##
#...###..#

Tile 2213:
#.####.#..
..###...#.
##..#.....
..##..#..#
.#..#..#..
...#..#.#.
....#.#...
##..##...#
.........#
...#..#.#.

Tile 3301:
#..###.###
##..###...
#..##...##
#........#
.....#....
#...###.#.
.........#
..........
..#.#.#...
#...#.#.#.

Tile 3923:
.#.###..#.
........#.
........##
#......#..
#.#..#...#
#.#......#
...#......
##....#...
#..#...#.#
#..##...#.

Tile 1747:
.##.#.#.#.
.#..#....#
#.#####...
#.....#..#
..#.#....#
..#.....#.
#..#.#...#
#.#.....##
#......#.#
..#...####

Tile 2003:
##..######
.##..#.#..
.#...#...#
#.#.#..###
#.#.#.....
..#.###.##
#..#....##
#...#.#..#
...#.....#
.#####...#

Tile 3559:
.##..##...
#.#.......
....#..#.#
..#......#
#...#.....
..........
###...#...
....#....#
.#.###..##
###...####

Tile 1889:
#.#....##.
#....#...#
#.#...#..#
.......#..
#....#.#.#
....#....#
#.##......
#....#....
#....#...#
...##..#..

Tile 2083:
#..####...
.......#.#
#.#...#..#
...##....#
#.#.#....#
#.......##
.#...#...#
..#.......
.##.#.....
#..#.#.#..

Tile 2087:
##.###.##.
.........#
...#.#..##
#....#...#
#.#..#.#..
...#....#.
#.........
..#..#....
...#......
##.#..#.#.

Tile 1523:
....##.#.#
...##.....
#...#..#..
#.#...##.#
#........#
#...#.##.#
##....#...
...##...#.
#..#####..
##...#.###

Tile 1283:
#######.#.
.#.#......
.#.......#
#..#....#.
.#..#...#.
#.#..#..##
#.........
...#....#.
#...#.....
.####.###.

Tile 3067:
..####.#.#
#.#....#.#
#....##..#
.....##..#
##..#.....
#.#...#.#.
#.....#...
...####...
#.......#.
#.#..##..#

Tile 2267:
#.....#...
###.#...#.
...##.....
#..#..#..#
......#...
#..#.....#
##..#....#
#...#...#.
...##....#
###..##...

Tile 2909:
..#...#.##
.....###..
#........#
#..#...#..
#........#
.........#
#...#.##.#
....#.....
..#...#..#
#..#.#...#

Tile 3583:
.#.#.####.
.#..#..#.#
##...##...
......#...
.#.###..##
#....###.#
#.##..#..#
###..#.###
.##..##...
..#..#####

Tile 2221:
.##.###...
..#..#....
..........
###......#
#....#...#
#...##....
#....#...#
###.#.#..#
#...#.#..#
..#..##.##

Tile 2237:
##..##.#.#
#...#....#
#.#......#
#.#...#..#
###..#.##.
#.###...#.
..##...#..
...#.....#
###.#.....
.###.#..##

Tile 1009:
#.#.#..###
#....#...#
#.........
...#.#...#
..###.....
#...#.....
..........
#.#...####
..#.#..#.#
.#.#.#.#..

Tile 1831:
..##.#..#.
....#.#.#.
.........#
.#........
.#..#.#.#.
......#..#
#.#.......
...#......
......#.#.
##.###.#..

Tile 2137:
..##.#.#.#
..##..#.##
.#..#.....
#..#.#...#
.#...#..#.
.#...#.###
#.#...#..#
.....#...#
#......#..
.#...#...#

Tile 1669:
..#..#.###
#.##.###..
.#........
.#.....###
#......#..
###......#
#..#.#....
###...##.#
#...#...##
#......#.#

Tile 2341:
.###.#....
#.........
#..##.....
#.#......#
...#....#.
.........#
#.#.#.....
......####
.#.#....#.
.#.###.#.#

Tile 2243:
...#...#..
..#.#.#..#
#....#....
#....#....
##...#....
........##
#.#...#..#
..#......#
#.....#...
#####....#

Tile 3319:
..#####.#.
....###.#.
##...##...
.###.#.#..
...#..##..
##.#..#..#
...#...###
.##...#.#.
..##.##..#
###.....#.

Tile 3803:
.##..####.
#.##.....#
###.....##
###....##.
##.#..#.#.
#..###...#
####..#.##
...#......
..#.......
###..#####

Tile 3217:
#.###....#
.#.......#
..#.#...#.
.....#..##
..#......#
#..#..#.#.
#.........
.......##.
#........#
##....#.#.

Tile 2389:
..#..###..
..#....#..
..##....#.
..#......#
#..##...##
...#....##
#.....##.#
..........
.....###.#
##.##.##.#

Tile 1367:
#..##...#.
##..##.##.
#..#.....#
##....#..#
.#.#..#..#
#.#..#..##
##....##.#
#...##.#.#
..#.......
..#.#.##.#

Tile 3593:
.##...##..
......#.##
..#.#.....
..........
##...#...#
.#.#..#..#
....##...#
#.#......#
..####...#
####.####.

Tile 2551:
#..##..##.
#.#..#...#
.....#...#
#..#.#..#.
.....##.##
.#....#...
......#.##
#....#.###
#.#.#....#
.#.###.##.

Tile 3623:
.#.###..##
.#.#...#.#
##...##...
##...#...#
....##....
#...#..#..
.#.....###
#.##.....#
.....#.#.#
#.###..###

Tile 1999:
#.#..####.
...##...#.
#...#..#..
.#..##..#.
#.#.#.....
....#.....
......####
#..#..##.#
.#..##....
.#...###.#

Tile 3169:
.#.#.###..
........##
#.........
#.....#...
.#.#..#.##
#.........
#####...#.
...#....##
......##..
.#..#...##

Tile 1951:
##.#....#.
#...##..#.
##.#.##.#.
#....#.#..
#...#..#..
.##..#...#
...####...
...###.##.
#.#.......
..#..#..##

Tile 2617:
#.##.#...#
.#........
.#.##....#
#........#
.#.#.#....
.....#...#
#.........
#..####.#.
......#..#
###...#.##

Tile 1559:
##.#...#..
#........#
.#...#....
#.........
##..#.#.##
......#...
.#..#....#
.....#....
##.#.##...
##.###.#..

Tile 3407:
.#..#####.
##.#.#.#..
#.....#.##
.....##...
.###.#...#
...#.##...
.##.....#.
....##.#..
.#..###.##
..##.#..##

Tile 3613:
##...#.##.
###......#
......#.##
#....#.###
..###..#..
#..#.....#
.......##.
..#.......
....#.#..#
#.#.##.##.

Tile 2293:
#..###..##
#........#
....#.#..#
....#....#
#..###...#
#..#..#...
#..#.##.##
#.#...#..#
##.......#
..###.#..#

Tile 2789:
...#..####
#...#.#..#
.#.....#.#
........##
.....#..#.
#####....#
...#.#....
#..##..#..
......#..#
.####.##..

Tile 2857:
#.#.#..#..
##.#......
..#......#
#..####..#
..#...#...
....##...#
.#........
#..#.#...#
#.......##
##.#.#.#..

Tile 3767:
####.#..#.
.....###.#
....###.##
#..##....#
#..#....#.
#.........
....#.....
.#.###.#..
#...###..#
###.###..#

Tile 1531:
##.#.#.#.#
...#.....#
..#.#..#.#
.....#....
....###.##
....#.....
.....#..##
#.##.#..##
.#..#.###.
##.#.##.##

Tile 3541:
##..######
..........
..##.#....
.#.#...#.#
#.#.......
#........#
.........#
#...#...#.
.....#...#
#.#..#.###

Tile 2957:
#.#.#..###
#..#....##
.#.......#
...#..#..#
..#.#....#
##....#...
.#....#...
#####....#
.####....#
.#...#..##

Tile 1249:
####.##.##
#...#..#.#
.#..#....#
#.#..#....
#....#..#.
##.......#
.....#..#.
.#..##.#..
#...#....#
.##.###...

Tile 3931:
#..###.##.
.......###
####.#.#.#
#.......#.
..#.#####.
#..#..#.##
....#..#..
#.#....#..
.#..#...#.
#.....###.

Tile 2731:
#...#...##
..##..#..#
#.........
##.##....#
#........#
#....#.###
##.......#
#..#.#...#
....#.#...
.##..#.###

Tile 1609:
.#...##.##
#...#...#.
#.##....#.
#...#.....
.#....#..#
#.#......#
..##.....#
#......#..
#.........
#####..##.

Tile 2579:
#.###..#.#
.##..#....
...#.....#
##.....#.#
.#.#..#..#
....##...#
#...#..#.#
#.....##..
#..###...#
..#.#..#.#

Tile 1993:
.#..##...#
#...####..
#......###
.#.....###
..#.#.....
...#...#.#
#.####..##
#.........
#....#.###
####..#..#

Tile 3229:
.#.####.##
##...#...#
......#...
#.....#.##
..#...##..
#...#.....
.........#
#....#.#.#
...#.....#
..########

Tile 3469:
.##....#.#
#......###
.#.#.....#
#.#.##....
#.##....##
....#.#..#
......#...
.#.#.##...
.#.#.##...
#..######.

Tile 3529:
.#######..
#..#.....#
...###....
....#.##.#
..........
...##.....
###..#...#
#..#.#..##
#.........
#..##.##.#

Tile 2999:
#...#..#.#
.......#..
...#......
.##...#...
##.#.....#
.#...#....
.##......#
.#..##.#..
##.#...#..
##..#.####

Tile 3853:
.#.##.####
#..#......
..#.....##
.####....#
...#....#.
##..#...#.
##.....#..
#..#.#....
#.###.....
##..####.#

Tile 3917:
#.#..#....
..###.##..
..##..#...
..###.....
...#......
.........#
##.#......
..##.#....
#.#.......
#.##.##..#

Tile 1489:
.##....###
#...#.....
......#...
.......###
##..#..#..
#..#....#.
#...#.##..
...#.....#
##.#.#..#.
.##.#.##.#

Tile 1051:
#....#.##.
.##..#..#.
...##....#
#..#.#....
#....#.#.#
.........#
.#.......#
.#.##...#.
#......#..
####.###..

Tile 2357:
###.###...
#.........
...#...#.#
...#......
.#....#.##
#.....#...
#.#......#
...#..##..
..#..##.#.
##..##..#.

Tile 1709:
..####.###
#.........
...#.#...#
...#..#...
#..####...
....##....
......#.#.
.#...#....
..##.#..##
....#.#..#

Tile 2753:
...##.#..#
###....###
...#...##.
###...#..#
#...#.##.#
#..#....#.
#........#
#...##....
..#....###
.#####.##.

Tile 3863:
#.##.#..##
..#.#.#.#.
#.......##
##....##..
..##......
...###...#
...#.#..##
####.....#
...#....##
..###.#...

Tile 1787:
#.#...##.#
..........
...#.....#
#...#.....
...#......
###.....##
#.....##..
..##......
##.......#
##.#...#.#

Tile 1117:
..##.#....
.#...#.#..
..#.#....#
....#...#.
#..##.#..#
..#.#.....
........#.
#.#......#
##.......#
#.#..##...
`,
    output: 2129
  });

  Utils.check(solve, dataset, "20b");
})();
